<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Blog | Nipun Sachdeva</title>
  <meta name="description" content="Writing on data science, data engineering, automation, and real-world systems." />
  <link rel="stylesheet" href="../styles.css" />
</head>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<body>

<section>
  <h1>Blog Writing</h1>
  <p>
    Practical thoughts on data science, data engineering,
    automation, and building systems that actually work in production.
  </p>

  <div id="posts"></div>
</section>

<script>
    fetch("/blog/posts/posts.json")
      .then(res => {
        if (!res.ok) throw new Error("Posts not found");
        return res.json();
      })
      .then(posts => {
        const container = document.getElementById("posts");
    
        if (!posts.length) {
          container.innerHTML = "<p>No posts yet.</p>";
          return;
        }
    
        posts
          .sort((a, b) => new Date(b.date) - new Date(a.date))
          .forEach(p => {
            const el = document.createElement("div");
            el.className = "blog-card";
            el.innerHTML = `
              <h3>${p.title}</h3>
              <p>${p.excerpt}</p>
              <a href="/blog/post.html?file=${p.url.split('/').pop()}">Read â†’</a>
            `;
            container.appendChild(el);
          });
      })
      .catch(err => {
        document.getElementById("posts").innerHTML =
          "<p>Blog posts failed to load.</p>";
        console.error(err);
      });
    </script>
    

</body>
</html>
